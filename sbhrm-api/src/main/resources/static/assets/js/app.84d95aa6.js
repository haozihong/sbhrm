(function(e){function t(t){for(var a,n,i=t[0],u=t[1],l=t[2],c=0,d=[];c<i.length;c++)n=i[c],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,n=1;n<r.length;n++){var i=r[n];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var a={},n={app:0},o={app:0},s=[];function i(e){return u.p+"assets/js/"+({}[e]||e)+"."+{"chunk-2d0ac382":"0686fc56","chunk-2d0aeb0c":"8f972804","chunk-2d0b727d":"3d1cbd1f","chunk-2d0bd798":"ab2f3217","chunk-2d0bdd65":"dd4618cf","chunk-2d0c035c":"c407a473","chunk-2d0da557":"6eb54782","chunk-2d0de67c":"4d40a914","chunk-2d0de725":"a8fb1052","chunk-2d0e6c08":"4d0a96f9","chunk-2d0e93e3":"029a60d5","chunk-2d208371":"3ca66a27","chunk-2d20f6b0":"c0b30d05","chunk-2d2165f3":"f09abd64","chunk-2d21da71":"60b1af7a","chunk-35eac5e6":"39513cbd","chunk-55651eb1":"83b92749"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"chunk-35eac5e6":1,"chunk-55651eb1":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="assets/css/"+({}[e]||e)+"."+{"chunk-2d0ac382":"31d6cfe0","chunk-2d0aeb0c":"31d6cfe0","chunk-2d0b727d":"31d6cfe0","chunk-2d0bd798":"31d6cfe0","chunk-2d0bdd65":"31d6cfe0","chunk-2d0c035c":"31d6cfe0","chunk-2d0da557":"31d6cfe0","chunk-2d0de67c":"31d6cfe0","chunk-2d0de725":"31d6cfe0","chunk-2d0e6c08":"31d6cfe0","chunk-2d0e93e3":"31d6cfe0","chunk-2d208371":"31d6cfe0","chunk-2d20f6b0":"31d6cfe0","chunk-2d2165f3":"31d6cfe0","chunk-2d21da71":"31d6cfe0","chunk-35eac5e6":"11de0f9d","chunk-55651eb1":"615f1e62"}[e]+".css",o=u.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var l=s[i],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===a||c===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],c=l.getAttribute("data-href");if(c===a||c===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete n[e],f.parentNode.removeChild(f),r(s)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){n[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,r){a=o[e]=[t,r]}));t.push(a[2]=s);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.src=i(e);var d=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(f);var r=o[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}o[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(r,a,function(t){return e[t]}.bind(null,a));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"00cc":function(e,t,r){},"034f":function(e,t,r){"use strict";r("85ec")},"3bb0":function(e,t,r){e.exports=r.p+"assets/img/avatar-default.822fa077.png"},"409e":function(e,t,r){"use strict";r("6c9b")},"56d7":function(e,t,r){"use strict";r.r(t);r("0fb7"),r("450d");var a=r("f529"),n=r.n(a),o=(r("9e1f"),r("6ed5")),s=r.n(o),i=(r("be4f"),r("896a")),u=r.n(i),l=(r("0fb4"),r("9944")),c=r.n(l),d=(r("920a"),r("4f0c")),f=r.n(d),m=(r("fd71"),r("a447")),p=r.n(m),h=(r("bdc7"),r("aa2f")),v=r.n(h),b=(r("de31"),r("c69e")),g=r.n(b),w=(r("a769"),r("5cc3")),y=r.n(w),k=(r("a673"),r("7b31")),_=r.n(k),F=(r("adec"),r("3d2d")),x=r.n(F),S=(r("b8e0"),r("a4c4")),P=r.n(S),U=(r("f4f9"),r("c2cc")),$=r.n(U),C=(r("7a0f"),r("0f6c")),O=r.n(C),I=(r("aaa5"),r("a578")),E=r.n(I),j=(r("cbb5"),r("8bbc")),A=r.n(j),D=(r("eca7"),r("3787")),R=r.n(D),M=(r("425f"),r("4105")),T=r.n(M),L=(r("b84d"),r("c216")),V=r.n(L),N=(r("8f24"),r("76b9")),H=r.n(N),z=(r("5466"),r("ecdf")),q=r.n(z),B=(r("38a0"),r("ad41")),J=r.n(B),Q=(r("1951"),r("eedf")),W=r.n(Q),K=(r("560b"),r("dcdc")),G=r.n(K),X=(r("10cb"),r("f3ad")),Y=r.n(X),Z=(r("8bd8"),r("4cb2")),ee=r.n(Z),te=(r("ce18"),r("f58e")),re=r.n(te),ae=(r("4ca3"),r("443e")),ne=r.n(ae),oe=(r("bd49"),r("18ff")),se=r.n(oe),ie=(r("960d"),r("defb")),ue=r.n(ie),le=(r("cb70"),r("b370")),ce=r.n(le),de=(r("a7cc"),r("df33")),fe=r.n(de),me=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("5319"),r("ac1f"),r("99af"),r("2b0e")),pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},he=[],ve=(r("034f"),r("2877")),be={},ge=Object(ve["a"])(be,pe,he,!1,null,null,null),we=ge.exports,ye=(r("0fae"),r("e05f"),r("2f62")),ke=r("8c4f"),_e=r("bb51"),Fe=r("a55b"),xe=r("ee96");me["default"].use(ke["a"]);var Se=[{path:"/login",name:"Login",component:Fe["default"],hidden:!0},{path:"/",name:"Home",component:_e["default"],children:[{path:"/userinfo",name:"UserInfo",component:xe["default"],hidden:!0}]},{path:"*",component:_e["default"]}],Pe=new ke["a"]({routes:Se}),Ue=Pe,$e=r("bc3a"),Ce=r.n($e),Oe=r("2106"),Ie=r.n(Oe);me["default"].use(fe.a),me["default"].use(ce.a),me["default"].use(ue.a),me["default"].use(se.a),me["default"].use(ne.a),me["default"].use(re.a),me["default"].use(ee.a),me["default"].use(Y.a),me["default"].use(G.a),me["default"].use(W.a),me["default"].use(J.a),me["default"].use(q.a),me["default"].use(H.a),me["default"].use(V.a),me["default"].use(T.a),me["default"].use(R.a),me["default"].use(A.a),me["default"].use(E.a),me["default"].use(O.a),me["default"].use($.a),me["default"].use(P.a),me["default"].use(x.a),me["default"].use(_.a),me["default"].use(y.a),me["default"].use(g.a),me["default"].use(v.a),me["default"].use(p.a),me["default"].use(f.a),me["default"].use(c.a),me["default"].use(u.a.directive),me["default"].prototype.$loading=u.a.service,me["default"].prototype.$msgbox=s.a,me["default"].prototype.$alert=s.a.alert,me["default"].prototype.$confirm=s.a.confirm,me["default"].prototype.$prompt=s.a.prompt,me["default"].prototype.$notify=Notification,me["default"].prototype.$message=n.a,me["default"].use(ye["a"]);var Ee=new ye["a"].Store({state:{currentUser:{name:"",avatar:""},routes:[]},mutations:{setCurrentUser:function(e,t){e.currentUser=t,localStorage.setItem("user",JSON.stringify(t))},clearCurrentUser:function(e){e.currentUser={name:"",avatar:""},localStorage.removeItem("user")},setRoutes:function(e,t){e.routes=t}}});Ue.beforeEach((function(e,t,r){"/login"===e.path||localStorage.getItem("user")?r():r("/login?redirect="+e.path)})),me["default"].use(Ie.a,Ce.a),Ce.a.interceptors.response.use((function(e){return e.status&&200===e.status&&500===e.data.status?n.a.error({message:e.data.msg}):e.data.msg&&n.a.success({message:e.data.msg}),e.data}),(function(e){401===e.response.status||403===e.response.status?(n.a.error({message:e.response.data.msg?e.response.data.msg:"Please log in."}),Ee.commit("clearCurrentUser"),Ue.replace("/login")):e.response.data.msg?n.a.error({message:e.response.data.msg}):n.a.error({message:"".concat(e.response.status,": ").concat(e.response.statusText)})})),me["default"].config.productionTip=!1,new me["default"]({router:Ue,store:Ee,mounted:function(){if(localStorage.getItem("user"))try{Ee.commit("setCurrentUser",JSON.parse(localStorage.getItem("user")))}catch(e){Ee.commit("clearCurrentUser")}},render:function(e){return e(we)}}).$mount("#app")},"5ced":function(e,t,r){},"627e":function(e,t,r){var a={"./views/Home.vue":["bb51"],"./views/Login.vue":["a55b"],"./views/UserInfo.vue":["ee96"],"./views/hr/HrList.vue":["4b24","chunk-55651eb1"],"./views/hr/HrMng.vue":["f01e","chunk-35eac5e6"],"./views/hr/HrSalary.vue":["99a3","chunk-2d0e6c08"],"./views/hr/HrTrans.vue":["2e62","chunk-2d0bdd65"],"./views/sal/SalSearch.vue":["1937","chunk-2d0ac382"],"./views/sal/SalSob.vue":["2bc5","chunk-2d0bd798"],"./views/sal/SalSobCfg.vue":["6ac9","chunk-2d0da557"],"./views/sta/StaAll.vue":["0aaf","chunk-2d0aeb0c"],"./views/sta/StaPers.vue":["b419","chunk-2d20f6b0"],"./views/sta/StaRecord.vue":["a49a","chunk-2d208371"],"./views/sta/StaScore.vue":["c1d3","chunk-2d2165f3"],"./views/sys/SysBasic.vue":["8d67","chunk-2d0e93e3"],"./views/sys/SysCfg.vue":["1fe7","chunk-2d0b727d"],"./views/sys/SysData.vue":["d1e3","chunk-2d21da71"],"./views/sys/SysHr.vue":["418a","chunk-2d0c035c"],"./views/sys/SysInit.vue":["8608","chunk-2d0de67c"],"./views/sys/SysLog.vue":["864e","chunk-2d0de725"]};function n(e){if(!r.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then((function(){return r(n)}))}n.keys=function(){return Object.keys(a)},n.id="627e",e.exports=n},"6c9b":function(e,t,r){},"85ec":function(e,t,r){},"9f63":function(e,t,r){"use strict";r("00cc")},a55b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",staticClass:"loginContainer",attrs:{rules:e.rules,"element-loading-text":"Logging in...",model:e.loginForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)}}},[r("h3",{staticClass:"loginTitle"},[e._v("Sign in to Quick HR")]),r("p",{staticStyle:{"font-size":"0.75rem","text-align":"center",color:"#888"}},[e._v("Sample account: username "),r("strong",[e._v("bob")]),e._v(" | password "),r("strong",[e._v("123")])]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"Username"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"Password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-checkbox",{staticClass:"loginRemember",attrs:{size:"normal"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("Remember me")]),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{size:"normal",type:"primary"},on:{click:e.submitLogin}},[e._v("Sign in")])],1)],1)],1)},n=[],o=(r("5319"),r("ac1f"),r("b383")),s=r.n(o),i={name:"Login",data:function(){return{loading:!1,loginForm:{username:"",password:"",rememberMe:!0},rules:{username:[{required:!0,message:"Username",trigger:"blur"}],password:[{required:!0,message:"Password",trigger:"blur"}]}}},methods:{submitLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0,e.axios.post("/login_process",s.a.stringify(e.loginForm)).then((function(t){if(e.loading=!1,t&&200===t.status){e.$store.commit("setCurrentUser",t.obj);var r=e.$route.query.redirect;e.$router.replace({path:"/login"===r||void 0===r?"/":r})}}))}))}}},u=i,l=(r("9f63"),r("2877")),c=Object(l["a"])(u,a,n,!1,null,"c11cbb48",null);t["default"]=c.exports},bb51:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("el-container",[r("el-aside",{staticClass:"hidden-sm-and-down",attrs:{width:"200px"}},[e.$store.state.routes?r("el-menu",{staticStyle:{height:"100%"},attrs:{router:"","unique-opened":""}},e._l(e.$store.state.routes,(function(t,a){return r("el-submenu",{key:a,attrs:{index:""+(a+1)}},[r("template",{slot:"title"},[r("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._l(t.children,(function(t,a){return r("el-menu-item",{key:a,attrs:{index:t.path}},[e._v(" "+e._s(t.name)+" ")])}))],2)})),1):e._e()],1),r("el-container",[r("el-header",{attrs:{id:"home-header"}},[r("router-link",{attrs:{to:"/",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.navigate;return[r("el-link",{staticClass:"title",on:{click:a}},[e._v("Quick HR")])]}}])}),r("span",[r("i",{staticClass:"hidden-md-and-up fas fa-bars fa-2x",staticStyle:{background:"rgba(0,0,0,0)",color:"#5e6e82",cursor:"pointer"},on:{click:function(t){e.showMenu=!0}}}),r("el-dropdown",{staticClass:"hidden-sm-and-down",attrs:{trigger:"click"},on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$store.state.currentUser.name)+" "),r("i",[r("img",{staticClass:"user-avatar",attrs:{src:e.$store.state.currentUser.avatar,alt:""}})])]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"userinfo"}},[e._v("User Info")]),r("el-dropdown-item",{attrs:{command:"setting"}},[e._v("Setting")]),r("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("Sign out")])],1)],1)],1)],1),r("el-main",["/"!==this.$router.currentRoute.path?r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("Home")]),r("el-breadcrumb-item",[e._v(e._s(this.$router.currentRoute.name))])],1):e._e(),"/"===this.$router.currentRoute.path?r("div",{staticClass:"homeWelcome"},[e._v(" Welcome to Quick HR! ")]):e._e(),r("router-view",{staticClass:"homeRouterView"})],1)],1)],1),r("el-drawer",{attrs:{title:"Menu",visible:e.showMenu,"with-header":!1,size:"40%"},on:{"update:visible":function(t){e.showMenu=t}}},[e.$store.state.routes?r("el-menu",{staticStyle:{"margin-top":"10px"},attrs:{router:""}},[r("el-submenu",{staticClass:"user-profile-menu",attrs:{index:"0"}},[r("template",{slot:"title"},[r("img",{staticClass:"user-avatar",attrs:{src:e.$store.state.currentUser.avatar,alt:""}}),e._v(" "+e._s(e.$store.state.currentUser.name)+" ")]),r("el-menu-item",{attrs:{index:"userinfo"}},[e._v("User Info")]),r("el-menu-item",{attrs:{index:"setting"}},[e._v("Setting")]),r("el-menu-item",{attrs:{index:"logout"}},[e._v("Sign out")])],2),e._l(e.$store.state.routes,(function(t,a){return r("el-submenu",{key:a,attrs:{index:""+(a+1)}},[r("template",{slot:"title"},[e._v(e._s(t.name))]),e._l(t.children,(function(t,a){return r("el-menu-item",{key:a,attrs:{index:t.frontendRoute}},[e._v(" "+e._s(t.name)+" ")])}))],2)}))],2):e._e()],1)],1)},n=[],o=(r("5319"),r("ac1f"),r("159b"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("99af"),r("fb6a"),function(e,t,r){r.get("/menu/menuTree").then((function(r){if(r){var a=s(r.children);a.forEach((function(t){e.addRoute(t)})),t.commit("setRoutes",a)}}))}),s=function e(t){var a=r("df7c").sep,n=[];return t.forEach((function(t){var o=t.frontendRoute,s=t.component,i=t.name,u=t.meta,l=t.iconCls,c=t.children;c&&c instanceof Array&&(c=e(c));var f={path:o,name:i,iconCls:l,meta:u,children:c,component:s?function(){return r("627e")("./views".concat(o.slice(0,o.lastIndexOf(a)),"/").concat(s,".vue"))}:d};n.push(f)})),n},i={name:"Home",data:function(){return{showMenu:!1}},mounted:function(){o(this.$router,this.$store,this.axios)},methods:{handleCommand:function(e){var t=this;"logout"===e?this.$confirm("Are you sure?","Signing out",{confirmButtonText:"Sign out",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.axios.get("/logout"),t.$store.commit("clearCurrentUser"),t.$router.replace("/login")})):"userinfo"===e&&this.$router.push("/userinfo")},getMenuFromServer:function(){var e=this;this.axios.get("/menu/menuTree").then((function(t){t&&e.$store.commit("setRoutes",t.children)}))}}},u=i,l=(r("cccb"),r("2877")),c=Object(l["a"])(u,a,n,!1,null,null,null),d=t["default"]=c.exports},cccb:function(e,t,r){"use strict";r("5ced")},ee96:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.hr?a("div",[a("el-col",{attrs:{sm:12,lg:8,xl:6}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[a("strong",[e._v(e._s(e.hr.name))])])]),a("div",[a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.updateAvatarUrlDialogVisible=!0}}},[a("el-avatar",{attrs:{size:100,src:e.hr.avatar}},[a("img",{attrs:{src:r("3bb0")}})])],1)],1),a("table",{staticStyle:{"margin-bottom":"1rem"}},[a("tr",[a("td",[a("el-tag",[e._v("Phone")])],1),a("td",[e._v(e._s(e.hr.phone))])]),a("tr",[a("td",[a("el-tag",[e._v("Phone2")])],1),a("td",[e._v(e._s(e.hr.telephone))])]),a("tr",[a("td",[a("el-tag",[e._v("Address")])],1),a("td",[e._v(e._s(e.hr.address))])]),a("tr",[a("td",[a("el-tag",[e._v("Roles")])],1),a("td",[e._l(e.hr.roles,(function(t,r){return a("span",{key:r,staticStyle:{"margin-right":"0.3rem"}},[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.title))])],1)})),e.hr.roles?e._e():a("el-button",{attrs:{type:"text",disabled:""}},[e._v("No roles")])],2)])])]),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.updateInfoDialogVisible=!0}}},[e._v("Update info")]),a("el-button",{attrs:{type:"danger",size:"medium"},on:{click:function(t){e.pwdDialogVisible=!0}}},[e._v("Change password")])],1)])],1),a("el-dialog",{attrs:{title:"Update user info",visible:e.updateInfoDialogVisible,width:"30%"},on:{"update:visible":function(t){e.updateInfoDialogVisible=t}}},[e.infoForm?a("el-form",{ref:"infoForm",attrs:{model:e.infoForm,"status-icon":"","label-position":"right","label-width":"5rem"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:e.infoForm.name,callback:function(t){e.$set(e.infoForm,"name",t)},expression:"infoForm.name"}})],1),a("el-form-item",{attrs:{label:"Phone"}},[a("el-input",{attrs:{type:"tel"},model:{value:e.infoForm.phone,callback:function(t){e.$set(e.infoForm,"phone",t)},expression:"infoForm.phone"}})],1),a("el-form-item",{attrs:{label:"Phone2"}},[a("el-input",{attrs:{type:"tel"},model:{value:e.infoForm.telephone,callback:function(t){e.$set(e.infoForm,"telephone",t)},expression:"infoForm.telephone"}})],1),a("el-form-item",{attrs:{label:"Address"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.infoForm.address,callback:function(t){e.$set(e.infoForm,"address",t)},expression:"infoForm.address"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.updateUserInfo}},[e._v("Update Info")]),a("el-button",{on:{click:e.reloadUserInfoForm}},[e._v("Reload")])],1)],1):e._e()],1),a("el-dialog",{attrs:{title:"Change password",visible:e.pwdDialogVisible,width:"30%"},on:{"update:visible":function(t){e.pwdDialogVisible=t}}},[a("el-form",{ref:"updatePwdForm",attrs:{model:e.updatePwdForm,"status-icon":"",rules:e.rules,"label-position":"right","label-width":"9rem"}},[a("el-form-item",{attrs:{label:"Old password",prop:"oldPwd"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.updatePwdForm.oldPwd,callback:function(t){e.$set(e.updatePwdForm,"oldPwd",t)},expression:"updatePwdForm.oldPwd"}})],1),a("el-form-item",{attrs:{label:"New password",prop:"pwd"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.updatePwdForm.pwd,callback:function(t){e.$set(e.updatePwdForm,"pwd",t)},expression:"updatePwdForm.pwd"}})],1),a("el-form-item",{attrs:{label:"Confirm password",prop:"reenterPwd"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.updatePwdForm.reenterPwd,callback:function(t){e.$set(e.updatePwdForm,"reenterPwd",t)},expression:"updatePwdForm.reenterPwd"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.submitUpdatePwdForm()}}},[e._v("Update password")]),a("el-button",{on:{click:function(t){return e.resetForm("updatePwdForm")}}},[e._v("Reset")])],1)],1)],1),a("el-dialog",{attrs:{title:"Update avatar url",visible:e.updateAvatarUrlDialogVisible,width:"30%"},on:{"update:visible":function(t){e.updateAvatarUrlDialogVisible=t}}},[a("el-form",{ref:"avatarForm",attrs:{model:e.avatarForm,"label-position":"right","label-width":"5rem"}},[a("el-form-item",{attrs:{label:"Avatar url"}},[a("el-input",{attrs:{type:"url"},model:{value:e.avatarForm.avatar,callback:function(t){e.$set(e.avatarForm,"avatar",t)},expression:"avatarForm.avatar"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.updateAvatarUrl}},[e._v("Update Avatar")])],1)],1)],1)],1):e._e()},n=[],o=(r("5319"),r("ac1f"),r("b383")),s=r.n(o),i={name:"UserInfo",data:function(){var e=this,t=function(t,r,a){r.length<3?a(new Error("Password too short")):(""!==e.updatePwdForm.reenterPwd&&e.$refs.updatePwdForm.validateField("reenterPwd"),a())},r=function(t,r,a){r.length<3?a(new Error("Password too short")):r!==e.updatePwdForm.pwd?a(new Error("Password confirmation doesn't match the password")):a()};return{updatePwdForm:{oldPwd:"",pwd:"",reenterPwd:""},rules:{pwd:[{validator:t,trigger:"blur"}],reenterPwd:[{validator:r,trigger:"blur"}]},infoForm:null,avatarForm:{avatar:""},updateInfoDialogVisible:!1,pwdDialogVisible:!1,updateAvatarUrlDialogVisible:!1}},computed:{hr:function(){return this.$store.state.currentUser}},mounted:function(){this.getUserFromServer()},methods:{onSuccess:function(){this.getUserFromServer()},getUserFromServer:function(){var e=this;this.axios.get("/user/info").then((function(t){t&&(e.$store.commit("setCurrentUser",t),e.reloadUserInfoForm())}))},reloadUserInfoForm:function(){this.infoForm=Object.assign({},this.$store.state.currentUser)},updateUserInfo:function(){var e=this;this.axios.put("/user/info",this.infoForm).then((function(t){t&&(e.updateInfoDialogVisible=!1,e.getUserFromServer())}))},submitUpdatePwdForm:function(){var e=this;this.$refs["updatePwdForm"].validate((function(t){if(!t)return!1;e.updatePwdForm.hrid=e.hr.id,e.axios.put("/user/pwd",s.a.stringify(e.updatePwdForm)).then((function(t){t&&(e.axios.get("/logout"),e.$store.commit("clearCurrentUser"),e.$router.replace("/login"))}))}))},updateAvatarUrl:function(){var e=this;this.axios.post("/user/avatarUrl",s.a.stringify(this.avatarForm)).then((function(t){t&&(e.updateAvatarUrlDialogVisible=!1,e.getUserFromServer())}))},resetForm:function(e){this.$refs[e].resetFields()}}},u=i,l=(r("409e"),r("2877")),c=Object(l["a"])(u,a,n,!1,null,"e2682504",null);t["default"]=c.exports}});
//# sourceMappingURL=app.84d95aa6.js.map